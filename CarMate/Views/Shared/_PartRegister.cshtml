@model CarMate.Models.RegisterModel

<div>
    <!-- Модальное окно -->
    <div class="modal fade" id="register" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button id="registerCloseButton" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title text-center" id="myModalLabel">Регистрация</h4>
                </div>
                <div class="modal-body">
                    @using (Html.BeginForm("Register", "Account", FormMethod.Post, new {enctype = "multipart/form-data"}))
                    {
                        @Html.AntiForgeryToken()

                        @*<hr/>*@
                        @Html.ValidationSummary(true, "", new {@class = "text-danger"})

                        <div class="form-horizontal">
                            <div class="form-group">
                                @Html.LabelFor(model => model.UserName, "Имя пользователя", htmlAttributes: new {@class = "control-label col-md-4"})
                                <div class="col-lg-5 col-md-5">
                                    @Html.TextBoxFor(model => model.UserName, htmlAttributes: new {@class = "form-control"})
                                    @Html.ValidationMessageFor(model => model.UserName, "", new {@class = "text-danger"})
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Password, "Пароль", htmlAttributes: new {@class = "control-label col-md-4"})
                                <div class="col-lg-5 col-md-5">
                                    @Html.PasswordFor(model => model.Password, htmlAttributes: new {@class = "form-control"})
                                    @Html.ValidationMessageFor(model => model.Password, "", new {@class = "text-danger"})
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.ConfirmPassword, "Подтверждение пароля", htmlAttributes: new {@class = "control-label col-md-4"})
                                <div class="col-lg-5 col-md-5">
                                    @Html.PasswordFor(model => model.ConfirmPassword, htmlAttributes: new { @class = "form-control" })
                                    @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new {@class = "text-danger"})
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Email, "Адрес электронной почты", htmlAttributes: new {@class = "control-label col-md-4"})
                                <div class="col-lg-5 col-md-5">
                                    @Html.TextBoxFor(model => model.Email, htmlAttributes: new {@class = "form-control"})
                                    @Html.ValidationMessageFor(model => model.Email, "", new {@class = "text-danger"})
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="control-label col-md-4" for="file">Выберите аватар</label>
                                <div class="col-md-5">
                                    <input type="file" name="file" value="Выбрать картинку"/>
                                </div>
                            </div>

                            <div class="form-group">
                                <input type="submit" value="Регистрация" class="btn btn-primary btn-lg btn-block"/>
                            </div>

                            <button id="loginInRegister" type="button" class="btn btn-info btn-lg">
                                Вход
                            </button>
                        </div>
                    }

                    <h2>Use another service to log in.</h2>
                    @Html.Action("ExternalLoginsList", "Account", new { ReturnUrl = ViewBag.ReturnUrl })

                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#loginInRegister').click(function () {    // При нажатии на кнопку входа в окне регистрации
            $('#registerCloseButton').trigger('click');    // Закрываем окно регистрации
            $('#loginButton').trigger('click');    // Открываем окно входа
        });
    });    
</script>